CREATE TABLE address_type (idaddress_type INT AUTO_INCREMENT, label VARCHAR(45), PRIMARY KEY(idaddress_type)) ENGINE = INNODB;
CREATE TABLE artists (idartists INT AUTO_INCREMENT, name VARCHAR(45), PRIMARY KEY(idartists)) ENGINE = INNODB;
CREATE TABLE artwork_style (idartwork_style INT AUTO_INCREMENT, label VARCHAR(45), PRIMARY KEY(idartwork_style)) ENGINE = INNODB;
CREATE TABLE artwork_type (idartwork_type INT AUTO_INCREMENT, label VARCHAR(45), PRIMARY KEY(idartwork_type)) ENGINE = INNODB;
CREATE TABLE artworks (idartworks INT AUTO_INCREMENT, created_at DATETIME, fkidartists INT, fkidartwork_style INT, fkidartwork_type INT, INDEX fkidartists_idx (fkidartists), INDEX fkidartwork_style_idx (fkidartwork_style), INDEX fkidartwork_type_idx (fkidartwork_type), PRIMARY KEY(idartworks)) ENGINE = INNODB;
CREATE TABLE artworks_prices (idartworks_prices INT AUTO_INCREMENT, fkidcurrencyfromartworks INT, fkidartworksfromprices INT, price DECIMAL(15, 2), INDEX fkidcurrencyfromartworks_idx (fkidcurrencyfromartworks), INDEX fkidartworksfromprices_idx (fkidartworksfromprices), PRIMARY KEY(idartworks_prices)) ENGINE = INNODB;
CREATE TABLE basket (idbasket INT AUTO_INCREMENT, fkidcustomersfrombasket INT, fkidbasket_status INT, fkidartworksfrombasket INT, INDEX fkidcustomersfrombasket_idx (fkidcustomersfrombasket), INDEX fkidbasket_status_idx (fkidbasket_status), INDEX fkidartworksfrombasket_idx (fkidartworksfrombasket), PRIMARY KEY(idbasket)) ENGINE = INNODB;
CREATE TABLE basket_status (idbasket_status INT AUTO_INCREMENT, label VARCHAR(45), PRIMARY KEY(idbasket_status)) ENGINE = INNODB;
CREATE TABLE country (idcountry INT AUTO_INCREMENT, label VARCHAR(45), fkiddelivery_areas INT, INDEX fkiddelivery_areas_idx (fkiddelivery_areas), PRIMARY KEY(idcountry)) ENGINE = INNODB;
CREATE TABLE currency (idcurrency INT AUTO_INCREMENT, label VARCHAR(45), PRIMARY KEY(idcurrency)) ENGINE = INNODB;
CREATE TABLE customer_status (idcustomer_status INT AUTO_INCREMENT, label VARCHAR(45), PRIMARY KEY(idcustomer_status)) ENGINE = INNODB;
CREATE TABLE customers (idcustomers INT AUTO_INCREMENT, company VARCHAR(45), dialing_code VARCHAR(45), email VARCHAR(45), fkidgender INT, fkidcustomer_status INT, name VARCHAR(45), phone INT, password VARCHAR(45), surname VARCHAR(45), created_at DATETIME, INDEX fkidgender_idx (fkidgender), INDEX fkidcustomer_status_idx (fkidcustomer_status), PRIMARY KEY(idcustomers)) ENGINE = INNODB;
CREATE TABLE customers_address_list (idcustomers_address_list INT AUTO_INCREMENT, fkidgeolocationfromaddresslist INT, fkidcustomersfromaddresslist INT, fkidaddress_type INT, INDEX fkidgeolocationfromaddresslist_idx (fkidgeolocationfromaddresslist), INDEX fkidcustomersfromaddresslist_idx (fkidcustomersfromaddresslist), INDEX fkidaddress_type_idx (fkidaddress_type), PRIMARY KEY(idcustomers_address_list)) ENGINE = INNODB;
CREATE TABLE delivery_areas (iddelivery_areas INT AUTO_INCREMENT, fkiddelivery_pricing INT, INDEX fkiddelivery_pricing_idx (fkiddelivery_pricing), PRIMARY KEY(iddelivery_areas)) ENGINE = INNODB;
CREATE TABLE delivery_pricing (iddelivery_pricing INT AUTO_INCREMENT, price DECIMAL(15, 2), fkidcurrencyfromdelivery INT, INDEX fkidcurrencyfromdelivery_idx (fkidcurrencyfromdelivery), PRIMARY KEY(iddelivery_pricing)) ENGINE = INNODB;
CREATE TABLE delivery_pricing_history (iddelivery_pricing_history INT AUTO_INCREMENT, price VARCHAR(45), created_at VARCHAR(45), fkiddelivery_pricingfromhistory INT, INDEX fkiddelivery_pricingfromhistory_idx (fkiddelivery_pricingfromhistory), PRIMARY KEY(iddelivery_pricing_history)) ENGINE = INNODB;
CREATE TABLE gender (idgender INT AUTO_INCREMENT, label VARCHAR(45), PRIMARY KEY(idgender)) ENGINE = INNODB;
CREATE TABLE geolocation (idgeolocation INT AUTO_INCREMENT, fkidcountry INT, json TEXT, xml TEXT, INDEX fkidcountry_idx (fkidcountry), PRIMARY KEY(idgeolocation)) ENGINE = INNODB;
CREATE TABLE order_status (idorder_status INT AUTO_INCREMENT, label VARCHAR(45), PRIMARY KEY(idorder_status)) ENGINE = INNODB;
CREATE TABLE order_type (idorder_type INT AUTO_INCREMENT, label VARCHAR(45), PRIMARY KEY(idorder_type)) ENGINE = INNODB;
CREATE TABLE orders (idorders INT AUTO_INCREMENT, fkidorder_status INT, fkidorder_type INT, fkidbasket INT, created_at DATETIME, INDEX fkidorder_status_idx (fkidorder_status), INDEX fkidorder_type_idx (fkidorder_type), INDEX fkidbasket_idx (fkidbasket), PRIMARY KEY(idorders)) ENGINE = INNODB;
CREATE TABLE orders_history (id BIGINT AUTO_INCREMENT, idorders INT DEFAULT '0' NOT NULL, fkidorder_status INT, fkidorder_type INT, fkidbasket INT, created_at DATETIME, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE prospects (idprospects INT AUTO_INCREMENT, company VARCHAR(45), dialing_code VARCHAR(45), email VARCHAR(45), fkidgeolocationfromprospect INT, name VARCHAR(45), phone INT, surname VARCHAR(45), password VARCHAR(45), step INT, created_at DATETIME, updated_at DATETIME, INDEX fkidgeolocationfromprospect_idx (fkidgeolocationfromprospect), PRIMARY KEY(idprospects)) ENGINE = INNODB;
CREATE TABLE sf_guard_forgot_password (id BIGINT AUTO_INCREMENT, user_id BIGINT NOT NULL, unique_key VARCHAR(255), expires_at DATETIME NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_group (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_group_permission (group_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(group_id, permission_id)) ENGINE = INNODB;
CREATE TABLE sf_guard_permission (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_remember_key (id BIGINT AUTO_INCREMENT, user_id BIGINT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_user (id BIGINT AUTO_INCREMENT, first_name VARCHAR(255), last_name VARCHAR(255), email_address VARCHAR(255) NOT NULL UNIQUE, username VARCHAR(128) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX is_active_idx_idx (is_active), PRIMARY KEY(id)) ENGINE = INNODB;
CREATE TABLE sf_guard_user_group (user_id BIGINT, group_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, group_id)) ENGINE = INNODB;
CREATE TABLE sf_guard_user_permission (user_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, permission_id)) ENGINE = INNODB;
ALTER TABLE artworks ADD CONSTRAINT artworks_fkidartwork_type_artwork_type_idartwork_type FOREIGN KEY (fkidartwork_type) REFERENCES artwork_type(idartwork_type);
ALTER TABLE artworks ADD CONSTRAINT artworks_fkidartwork_style_artwork_style_idartwork_style FOREIGN KEY (fkidartwork_style) REFERENCES artwork_style(idartwork_style);
ALTER TABLE artworks ADD CONSTRAINT artworks_fkidartists_artists_idartists FOREIGN KEY (fkidartists) REFERENCES artists(idartists);
ALTER TABLE artworks_prices ADD CONSTRAINT artworks_prices_fkidcurrencyfromartworks_currency_idcurrency FOREIGN KEY (fkidcurrencyfromartworks) REFERENCES currency(idcurrency);
ALTER TABLE artworks_prices ADD CONSTRAINT artworks_prices_fkidartworksfromprices_artworks_idartworks FOREIGN KEY (fkidartworksfromprices) REFERENCES artworks(idartworks);
ALTER TABLE basket ADD CONSTRAINT basket_fkidcustomersfrombasket_customers_idcustomers FOREIGN KEY (fkidcustomersfrombasket) REFERENCES customers(idcustomers);
ALTER TABLE basket ADD CONSTRAINT basket_fkidbasket_status_basket_status_idbasket_status FOREIGN KEY (fkidbasket_status) REFERENCES basket_status(idbasket_status);
ALTER TABLE basket ADD CONSTRAINT basket_fkidartworksfrombasket_artworks_idartworks FOREIGN KEY (fkidartworksfrombasket) REFERENCES artworks(idartworks);
ALTER TABLE country ADD CONSTRAINT country_fkiddelivery_areas_delivery_areas_iddelivery_areas FOREIGN KEY (fkiddelivery_areas) REFERENCES delivery_areas(iddelivery_areas);
ALTER TABLE customers ADD CONSTRAINT customers_fkidgender_gender_idgender FOREIGN KEY (fkidgender) REFERENCES gender(idgender);
ALTER TABLE customers ADD CONSTRAINT customers_fkidcustomer_status_customer_status_idcustomer_status FOREIGN KEY (fkidcustomer_status) REFERENCES customer_status(idcustomer_status);
ALTER TABLE customers_address_list ADD CONSTRAINT cfgi FOREIGN KEY (fkidgeolocationfromaddresslist) REFERENCES geolocation(idgeolocation);
ALTER TABLE customers_address_list ADD CONSTRAINT cfci FOREIGN KEY (fkidcustomersfromaddresslist) REFERENCES customers(idcustomers);
ALTER TABLE customers_address_list ADD CONSTRAINT cfai FOREIGN KEY (fkidaddress_type) REFERENCES address_type(idaddress_type);
ALTER TABLE delivery_areas ADD CONSTRAINT dfdi FOREIGN KEY (fkiddelivery_pricing) REFERENCES delivery_pricing(iddelivery_pricing);
ALTER TABLE delivery_pricing ADD CONSTRAINT delivery_pricing_fkidcurrencyfromdelivery_currency_idcurrency FOREIGN KEY (fkidcurrencyfromdelivery) REFERENCES currency(idcurrency);
ALTER TABLE delivery_pricing_history ADD CONSTRAINT dfdi_1 FOREIGN KEY (fkiddelivery_pricingfromhistory) REFERENCES delivery_pricing(iddelivery_pricing);
ALTER TABLE geolocation ADD CONSTRAINT geolocation_fkidcountry_country_idcountry FOREIGN KEY (fkidcountry) REFERENCES country(idcountry);
ALTER TABLE orders ADD CONSTRAINT orders_fkidorder_type_order_type_idorder_type FOREIGN KEY (fkidorder_type) REFERENCES order_type(idorder_type);
ALTER TABLE orders ADD CONSTRAINT orders_fkidorder_status_order_status_idorder_status FOREIGN KEY (fkidorder_status) REFERENCES order_status(idorder_status);
ALTER TABLE orders ADD CONSTRAINT orders_fkidbasket_basket_idbasket FOREIGN KEY (fkidbasket) REFERENCES basket(idbasket);
ALTER TABLE prospects ADD CONSTRAINT prospects_fkidgeolocationfromprospect_geolocation_idgeolocation FOREIGN KEY (fkidgeolocationfromprospect) REFERENCES geolocation(idgeolocation);
ALTER TABLE sf_guard_forgot_password ADD CONSTRAINT sf_guard_forgot_password_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_remember_key ADD CONSTRAINT sf_guard_remember_key_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE;
